<div local-class="info">
  <h2 class="ui dividing header">
    {{book.title}}
    <div class="sub header">
      by {{#link-to "authors.author" book.author.slug}}
        {{book.author.fullName}}
      {{/link-to}}
    </div>
  </h2>

  <div class="ui basic buttons">
    {{#if book.fileUrl}}
      <a href={{book.fileUrl}} target="_blank" class="ui button">
        Download eBook
      </a>
    {{/if}}
    {{#link-to "books.book.edit" book.slug class="ui button"}}
      Edit
    {{/link-to}}
    <button class="ui button" onclick={{action openBookDeleteConfirm}}>
      Delete
    </button>
  </div>

  <div class="ui divider"></div>

  <p>
    {{#liquid-spacer growDuration=250}}
      {{#if showLongDescription}}
        <div local-class="description">
          {{book.description}}
        </div>
        <a onclick={{action (mut showLongDescription) false}} local-class="link">Show less</a>
      {{else}}
        <div local-class="description">
          {{book.shortDescription}}
        </div>
        <a onclick={{action (mut showLongDescription) true}} local-class="link">Show more</a>
      {{/if}}
    {{/liquid-spacer}}
  </p>

  <p>
    <b>Year: </b>{{book.pubYear}}
  </p>

</div>

{{book-cover
    book=book
}}

{{#if isShowBookDeleteConfirm}}
  {{#modal-dialog
      onClose=(action closeBookDeleteConfirm)
      targetAttachment="center"
      translucentOverlay=true
      animatable=true
  }}
    <div class="ui basic segment">
      <h3 class="ui header">Delete "{{book.title}}" book?</h3>
      <button class="ui basic negative button"
          onclick={{queue
            (perform deleteBook book)
            (action closeBookDeleteConfirm)
          }}
      >
        Delete
      </button>
      <button class="ui basic button" onclick={{action closeBookDeleteConfirm}}>
        Cancel
      </button>
    </div>
  {{/modal-dialog}}
{{/if}}